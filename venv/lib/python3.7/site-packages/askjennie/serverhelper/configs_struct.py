
DEFAULT_NGINX_CONFIG = '''
server {
        listen 80;
        root /var/www/html;
        index index.php index.html index.htm index.nginx-debian.html;
        server_name SERVER_NAME;

        location / {
            try_files $uri $uri/ =404;
        }

        location ~ \.php$ {
            include snippets/fastcgi-php.conf;
            fastcgi_pass unix:/var/run/php/php7.2-fpm.sock;
        }
}'''

NORMAL_NGINX_CONFIG = '''
server {
        listen PORT;
        root /var/www/html;
        index index.php index.html index.htm index.nginx-debian.html;
        server_name localhost;

        location / {
            try_files $uri $uri/ =404;
        }

        location ~ \.php$ {
            include snippets/fastcgi-php.conf;
            fastcgi_pass unix:/var/run/php/php7.2-fpm.sock;
        }

}'''

DEFAULT_NGINX_CONFIG_HTTPS = '''
server {
        listen 443;
        server_name DOMAIN;

        ssl on;
        ssl_certificate  /etc/letsencrypt/live/DOMAIN/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/DOMAIN/privkey.pem;

        # nginx root and location configration        
        root ROOT;
        index index.php index.html index.htm index.nginx-debian.html;

        location / {
            try_files $uri $uri/ =404;
        }

        # PHP Configration.
        location ~ \.php$ {
            include snippets/fastcgi-php.conf;
            fastcgi_pass unix:/var/run/php/php7.2-fpm.sock;
        }

}'''

DEFAULT_NGINX_CONFIG_PHPMYADMIN = '''
server {
        listen PORT;
        server_name local_phpmyadmin;

        # nginx root and location configration        
        root ROOT;
        index index.php index.html index.htm index.nginx-debian.html;

        location / {
            try_files $uri $uri/ =404;
        }

        # PHP Configration.
        location ~ \.php$ {
            include snippets/fastcgi-php.conf;
            fastcgi_pass unix:/var/run/php/php7.2-fpm.sock;
        }

}'''

DEFAULT_NGINX_CONFIG_DJANGO_SSL = '''
upstream backend {
    server 127.0.0.1:INTERNAL_PORT;      # for a web port socket
}
server {
        listen 443;
        listen [::]:443;
        server_name DOMAIN;

        ssl on;
        ssl_certificate  /etc/letsencrypt/live/DOMAIN/fullchain.pem;
        ssl_certificate_key /etc/letsencrypt/live/DOMAIN/privkey.pem;

        charset     utf-8;

        #Max upload size
        client_max_body_size 75M;   # adjust to taste

        # Finally, send all non-media requests to the Django server.
        location / {
                uwsgi_pass  backend;
                include     /etc/nginx/uwsgi_params;
        }
}'''

DEFAULT_NGINX_CONFIG_DJANGO_NORMAL = '''
upstream backend {
    server 127.0.0.1:INTERNAL_PORT;      # for a web port socket
}
server {
        listen PORT;
        listen [::]:PORT;
        server_name DOMAIN;
        charset     utf-8;

        #Max upload size
        client_max_body_size 75M;   # adjust to taste

        # Finally, send all non-media requests to the Django server.
        location / {
                uwsgi_pass  backend;
                include     /etc/nginx/uwsgi_params;
        }
}'''

DEFAULT_UWSGI = '''[uwsgi]
project = backend
base = /root

chdir = %(base)/backend
module = %(project).wsgi:application

project = PROJECT_NAME

chdir = ROOT
module = %(project).wsgi:application

master = true
processes = 2
socket = 127.0.0.1:INTERNAL_PORT
chmod-socket = 664
vacum = true
daemonize = /var/log/PROJECT_NAME.log
py-autoreload = 1
'''

UWSGI_CONF = '''[Unit]
Description=uwsgi service

[Service]
User=root
WorkingDirectory=/usr/local/bin
ExecStart=/usr/local/bin/uwsgi --emperor /etc/uwsgi

[Install]
WantedBy=multi-user.target'''


MYSQL_CHANGE_PASSWORD_COMMAND = '''mysql -u root --execute="ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'MYSQL_PASSWORD';"'''